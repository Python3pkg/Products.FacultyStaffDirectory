<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en"
      lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="FacultyStaffDirectory">
  
    <head></head>
    <body>
      
        <metal:fill fill-slot="main">
            <div class="facultyStaffDirectory directory gallery">
                <div tal:replace="structure provider:plone.abovecontenttitle" />
                <h1 tal:content="object_title" class="documentFirstHeading">
                  Title or id
                </h1>
                <div tal:replace="structure provider:plone.belowcontenttitle" />
                <div tal:replace="structure provider:plone.abovecontentbody" />
        
                <tal:block define="directory context/getDirectoryRoot;
                            allClassifications python:[] and 'SORT OF COMMENTING THIS CRASHY THING OUT UNTIL WE GET DECIDE WHAT THE NEW VIEW SHOULD LOOK LIKE [c.getObject() for c in directory.getClassifications()]';
                            classificationsInRequest request/classification|nothing;
                            classifications python:classificationsInRequest and [directory[c] for c in isinstance(classificationsInRequest, basestring) and [classificationsInRequest] or classificationsInRequest] or allClassifications;
                            contextualClassifications python:[context.contextualClassification(c) for c in classifications]">

                    <ol tal:condition="nocall:contextualClassifications" class="classificationList"> 
                        <tal:block tal:repeat="classification contextualClassifications">
                            <li tal:condition="classification/getPeople">
                                <a tal:content="classification/Title" tal:attributes="href python:'%s#%s' % (context.absolute_url(), normalizeString(classification.Title()));" />
                            </li>
                        </tal:block>
                    </ol>
                    
                </tal:block>
                
                <div tal:replace="structure provider:plone.belowcontentbody" />
            </div>
        </metal:fill>
    </body>
</html>